(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4950)}])},4950:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ep}});var s=a(5893),r=a(9008),n=a.n(r),o=a(7294),i=a(2734),l=a(8396),c=a(2293),h=a(155),d=a(3946),p=a(5861),u=a(7357),x=a(8703),m=a(1737),k=a(594),g=a(326),f=a(6540),y=a(6154),w=a(2487),b=a(6100),j=a(9293);let v=async e=>{let t=e[e.length-1],a="Question. ".concat(t.content,"\n\nAnswer: Let’s work this out in a step by step way to be sure we have the right answer.");try{let t=await y.Z.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4",messages:[...e.slice(0,-1),{role:"user",content:a}],n:3},{headers:{"Content-Type":"application/json",Authorization:"Bearer redacted"}});return console.log(t),t.data.choices}catch(e){console.error("Error while calling OpenAI API:",e)}},Z=async(e,t)=>{let a=e[e.length-1],s="Question. ".concat(a.content,"\n\nAnswer: Let’s work this out in a step by step way to be sure we have the right answer."),r="Question: ".concat(e[e.length-1].content,"\n\n").concat(t.map((e,t)=>"Answer option ".concat(t+1,":\n\n").concat(e.message.content.trim())).join("\n\n"));console.log(r);try{let t=await y.Z.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4",messages:[...e.slice(0,-1),{role:"user",content:s},{role:"assistant",content:r},{role:"user",content:"You are a researcher tasked with investigating the three response options provided. List the flaws and faulty logic of each answer option. Let’s work this out in a step by step way to be sure we have all the errors:"}]},{headers:{"Content-Type":"application/json",Authorization:"Bearer redacted"}});return console.log(t),{response:t.data.choices[0].message.content.trim(),combinedAnswers:r}}catch(e){console.error("Error while calling OpenAI API:",e)}},C=async(e,t,a)=>{let s=e[e.length-1],r="Question. ".concat(s.content,"\n\nAnswer: Let’s work this out in a step by step way to be sure we have the right answer.");try{let s=await y.Z.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4",messages:[...e.slice(0,-1),{role:"user",content:r},{role:"assistant",content:t},{role:"user",content:"".concat(a,"\n\nYou are a resolver tasked with 1) finding which of the three answer options the researcher thought was best 2) improving that answer, and 3) Printing the improved answer in full. Let’s work this out in a step by step way to be sure we have the right answer:")}]},{headers:{"Content-Type":"application/json",Authorization:"Bearer redacted"}});return console.log(s),s.data.choices[0].message.content.trim()}catch(e){console.error("Error while calling OpenAI API:",e)}},S=e=>{let{user:t}=(0,w.a)(),[a,s]=(0,o.useState)([]),[r,n]=(0,o.useState)(null),[i,l]=(0,o.useState)([]),[c,h]=(0,o.useState)(""),[d,p]=(0,o.useState)(!1),[u,x]=(0,o.useState)(!1),m=async()=>{if(t)try{let e=(0,b.hJ)(j.db,"users",t.uid,"chats"),a=await (0,b.PL)(e),r=a.docs.map(e=>e.data());s(r)}catch(e){console.error("Error fetching chats:",e)}};(0,o.useEffect)(()=>{m()},[t]);let k=async e=>{try{let s=await (0,b.ET)((0,b.hJ)(j.db,"users",t.uid,"chats"),{id:"",name:"Chat ".concat(a.length+1),messages:e||[],createdAt:Date.now()});await (0,b.r7)(s,{id:s.id});let r=await (0,b.QT)(s),o=r.data();n(o),m()}catch(e){console.error("Error saving chat:",e)}},g=async e=>{if(t&&r)try{let a=(0,b.JU)(j.db,"users",t.uid,"chats",r.id);await (0,b.r7)(a,{messages:e})}catch(e){console.error("Error saving chat:",e)}else t&&k(e)},f=async()=>{if(""===c.trim())return;if(!t.apiKey){R("Enter your Open AI API key on the settings page to use chat","info");return}if(d)return;p(!0);let e=[...i,{role:"user",content:c}];l(e=>[...e,{role:"user",content:c}]),h("");let a=null;if(u){let t=await v(e),s=await Z(e,t);a=await C(e,s.combinedAnswers,s.response)}else try{a=(a=await y.Z.post("https://api.openai.com/v1/chat/completions",{model:"gpt-3.5-turbo",messages:e,max_tokens:30},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.apiKey)}})).data.choices[0].message.content.trim()}catch(e){console.error("Error while calling OpenAI API:",e),R(e.response.data.error.message,"error"),p(!1);return}let s=[...e,{role:"assistant",content:a}];l(s),setTimeout(()=>{p(!1)},0),g(s)},S=async e=>{try{await (0,b.oe)((0,b.JU)(j.db,"users",t.uid,"chats",e)),s(a.filter(t=>t.id!==e)),r&&r.id===e&&n(null)}catch(e){console.log("error: ",e)}},[E,A]=(0,o.useState)(!1),[T,P]=(0,o.useState)(null),[I,z]=(0,o.useState)(""),R=(e,t)=>{P(t),z(e),A(!0)};return{chats:a,selectedChat:r,setSelectedChat:n,messages:i,setMessages:l,input:c,handleInputChange:e=>{h(e.target.value)},handleSend:f,createNewChat:k,deleteChat:S,loading:d,smartMode:u,setSmartMode:x,snackbarOpen:E,snackbarSeverity:T,snackbarMessage:I,handleSnackbarClose:(e,t)=>{"clickaway"!==t&&A(!1)}}},E=(e,t)=>{let a=(0,o.useRef)(null),s=(0,o.useRef)(null),r=(0,o.useRef)(null),n=(0,o.useRef)(null),[i,l]=(0,o.useState)(0);return(0,o.useLayoutEffect)(()=>{n.current&&l(n.current.getBoundingClientRect().height)},[]),(0,o.useEffect)(()=>{a.current&&(r.current=a.current.scrollHeight)},[e]),(0,o.useLayoutEffect)(()=>{if(a.current&&s.current){let n=a.current.clientHeight,o=a.current.scrollTop,i=r.current||0;if(!1===t)a.current.scrollTop=a.current.scrollHeight;else if(i-o<=2*n){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}}},[e]),{messageBoxRef:a,lastMessageRef:s,prevScrollHeightRef:r,userMessageBoxRef:n,userMessageBoxHeight:i}};var A=a(6613),T=a(6628);let P=e=>{let{messageBoxRef:t,userMessageBoxHeight:a,lastMessageRef:r}=e,[n,i]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=t.current,a=()=>{let t=e.scrollHeight-e.scrollTop-e.clientHeight;i(t>100)};return e.addEventListener("scroll",a),()=>{e.removeEventListener("scroll",a)}},[t]),(0,s.jsx)(T.Z,{in:n,children:(0,s.jsx)(d.Z,{"aria-label":"Scroll down",onClick:()=>{r.current.scrollIntoView({behavior:"smooth"})},sx:{position:"fixed",bottom:"".concat(a+8,"px"),right:["8px","16px"]},children:(0,s.jsx)(A.Z,{})})})};var I=a(9260),z=a.n(I),R=JSON.parse('{"nm":"newScene","ddd":0,"h":72,"w":94,"meta":{"g":"@lottiefiles/toolkit-js 0.26.1"},"layers":[{"ty":4,"nm":"Ellipse_3","sr":1,"st":0,"op":65,"ip":0,"hd":false,"ddd":1,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[3,3,0]},"s":{"a":1,"k":[{"o":{"x":0.55,"y":0.055},"i":{"x":0.675,"y":0.19},"s":[100,100],"t":0},{"o":{"x":0.25,"y":0.46},"i":{"x":0.45,"y":0.94},"s":[70,70],"t":39},{"s":[100,100],"t":65}]},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":56.943},"y":{"a":1,"k":[{"o":{"x":0.6,"y":-0.28},"i":{"x":0.735,"y":0.045},"s":[35.651],"t":0},{"o":{"x":0.175,"y":0.885},"i":{"x":0.32,"y":1.275},"s":[30.651],"t":39},{"s":[35.651],"t":65}]},"z":{"a":0,"k":0}},"sa":{"a":0,"k":0},"o":{"a":0,"k":100},"rx":{"a":0,"k":0},"ry":{"a":0,"k":0},"rz":{"a":0,"k":0},"or":{"a":0,"k":[0,0,0]}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"nm":"Ellipse_3 shape group","it":[{"ty":"el","bm":0,"hd":false,"nm":"","d":1,"p":{"a":0,"k":[23,3]},"s":{"a":0,"k":[6,6]}},{"ty":"st","bm":0,"hd":false,"nm":"","lc":3,"lj":1,"ml":1,"o":{"a":0,"k":0},"w":{"a":0,"k":0},"c":{"a":0,"k":[0,0,0,0]}},{"ty":"gf","bm":0,"hd":false,"nm":"","e":{"a":0,"k":[23,6]},"g":{"p":1,"k":{"a":0,"k":[1,0.24705882352941178,0.1803921568627451,0.44313725490196076]}},"t":1,"a":{"a":0,"k":0},"h":{"a":0,"k":0},"s":{"a":0,"k":[23,0]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[-20,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]}],"ind":1},{"ty":4,"nm":"Ellipse_2","sr":1,"st":0,"op":65,"ip":0,"hd":false,"ddd":1,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[3,3,0]},"s":{"a":1,"k":[{"o":{"x":0.55,"y":0.055},"i":{"x":0.675,"y":0.19},"s":[100,100],"t":0},{"o":{"x":0.25,"y":0.46},"i":{"x":0.45,"y":0.94},"s":[80,70],"t":35},{"s":[100,100],"t":60}]},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":46.943},"y":{"a":1,"k":[{"o":{"x":0.6,"y":-0.28},"i":{"x":0.735,"y":0.045},"s":[35.651],"t":0},{"o":{"x":0.175,"y":0.885},"i":{"x":0.32,"y":1.275},"s":[30.651],"t":35},{"s":[35.651],"t":60}]},"z":{"a":0,"k":0}},"sa":{"a":0,"k":0},"o":{"a":0,"k":100},"rx":{"a":0,"k":0},"ry":{"a":0,"k":0},"rz":{"a":0,"k":0},"or":{"a":0,"k":[0,0,0]}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"nm":"Ellipse_2 shape group","it":[{"ty":"el","bm":0,"hd":false,"nm":"","d":1,"p":{"a":0,"k":[13,3]},"s":{"a":0,"k":[6,6]}},{"ty":"st","bm":0,"hd":false,"nm":"","lc":3,"lj":1,"ml":1,"o":{"a":0,"k":0},"w":{"a":0,"k":0},"c":{"a":0,"k":[0,0,0,0]}},{"ty":"gf","bm":0,"hd":false,"nm":"","e":{"a":0,"k":[13,6]},"g":{"p":1,"k":{"a":0,"k":[1,0.24705882352941178,0.1803921568627451,0.44313725490196076]}},"t":1,"a":{"a":0,"k":0},"h":{"a":0,"k":0},"s":{"a":0,"k":[13,0]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[-10,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":60}}]}],"ind":2},{"ty":4,"nm":"Ellipse","sr":1,"st":0,"op":65,"ip":0,"hd":false,"ddd":1,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[3,3,0]},"s":{"a":1,"k":[{"o":{"x":0.55,"y":0.055},"i":{"x":0.675,"y":0.19},"s":[100,100],"t":0},{"o":{"x":0.25,"y":0.46},"i":{"x":0.45,"y":0.94},"s":[70,70],"t":30},{"s":[100,100],"t":55}]},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":36.943},"y":{"a":1,"k":[{"o":{"x":0.6,"y":-0.28},"i":{"x":0.735,"y":0.045},"s":[35.651],"t":0},{"o":{"x":0.175,"y":0.885},"i":{"x":0.32,"y":1.275},"s":[30.651],"t":30},{"s":[35.651],"t":55}]},"z":{"a":0,"k":0}},"sa":{"a":0,"k":0},"o":{"a":0,"k":100},"rx":{"a":0,"k":0},"ry":{"a":0,"k":0},"rz":{"a":0,"k":0},"or":{"a":0,"k":[0,0,0]}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"nm":"Ellipse shape group","it":[{"ty":"el","bm":0,"hd":false,"nm":"","d":1,"p":{"a":0,"k":[3,3]},"s":{"a":0,"k":[6,6]}},{"ty":"st","bm":0,"hd":false,"nm":"","lc":3,"lj":1,"ml":1,"o":{"a":0,"k":0},"w":{"a":0,"k":0},"c":{"a":0,"k":[0,0,0,0]}},{"ty":"gf","bm":0,"hd":false,"nm":"","e":{"a":0,"k":[3,6]},"g":{"p":1,"k":{"a":0,"k":[1,0.24705882352941178,0.1803921568627451,0.44313725490196076]}},"t":1,"a":{"a":0,"k":0},"h":{"a":0,"k":0},"s":{"a":0,"k":[3,0]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":40}}]}],"ind":3}],"v":"5.1.20","fr":60,"op":65,"ip":0,"assets":[]}');let _=()=>(0,s.jsx)(z(),{animationData:R,loop:!0,style:{position:"absolute",top:"0",left:"-12px",width:"64px",transform:"translateY(calc(-50% + 18px))"}}),L=o.memo(e=>{let{children:t,message:a,isLastMessage:r,name:n,lastMessageRef:o,isSmallScreen:i}=e;return(0,s.jsx)(T.Z,{in:!0,timeout:500,children:(0,s.jsxs)(u.Z,{bgcolor:(null==a?void 0:a.role)==="user"?e=>"hsl(0,0%,96%)":"transparent",sx:{position:"relative",display:"grid",gridTemplateColumns:"64px 1fr",pr:i?0:"64px",columnGap:2,py:4,"::before":{zIndex:"-1",position:"absolute",top:0,bottom:0,left:0,width:"100vw",transform:"translateX(-100%)",content:'""',display:"block",backgroundColor:(null==a?void 0:a.role)==="user"?e=>"hsl(0,0%,96%)":"transparent"},"::after":{zIndex:"-1",position:"absolute",top:0,bottom:0,left:0,width:"100vw",content:'""',display:"block",backgroundColor:(null==a?void 0:a.role)==="user"?e=>"hsl(0,0%,96%)":"transparent"}},ref:r?o:null,children:[n&&(0,s.jsxs)(p.Z,{color:"secondary",textAlign:"right",children:[n,":"]}),t]})})});var O=e=>{let{messages:t,lastMessageRef:a,loading:r,isSmallScreen:n}=e,o=t.map((e,r)=>(0,s.jsxs)(L,{message:e,isLastMessage:r===t.length-1,lastMessageRef:a,isSmallScreen:n,children:[(0,s.jsxs)(p.Z,{color:"user"===e.role?"primary":"secondary",textAlign:"right",children:[e.role,":"]}),(0,s.jsx)(p.Z,{color:"text.primary",children:e.content})]},r));return(0,s.jsxs)(s.Fragment,{children:[o,r&&(0,s.jsx)(L,{name:"Assistant",children:(0,s.jsx)(u.Z,{sx:{position:"relative"},children:(0,s.jsx)(_,{})})})]})},M=a(629),N=a(9936),B=a(7109),H=a(6307),F=e=>{let{inputValue:t,userMessageBoxRef:a,handleInputChange:r,handleSend:n}=e;return(0,s.jsx)(M.Z,{elevation:4,sx:{zIndex:1},children:(0,s.jsx)(u.Z,{sx:{p:2,position:"relative",margin:"0 auto",maxWidth:"900px",width:"100%"},ref:a,children:(0,s.jsx)(N.Z,{autoComplete:"off",fullWidth:!0,variant:"outlined",placeholder:"Send a message",value:t,onChange:r,onKeyDown:e=>{"Enter"===e.key&&n()},InputProps:{endAdornment:(0,s.jsx)(B.Z,{position:"end",children:(0,s.jsx)(d.Z,{onClick:n,edge:"end",disabled:""===t.trim(),children:(0,s.jsx)(H.Z,{})})})}})})})},J=a(7212),Q=a(8619),D=a(9334),G=a(7533),U=a(3321),W=a(8462),X=a(1403),Y=a(6907),K=a(3264),V=a(7720),q=a(9661),$=a(431),ee=a(9369),et=a(4564),ea=a(1664),es=a.n(ea),er=a(1163),en=a(4457);let eo=e=>{let{isSmallScreen:t}=e,{user:a}=(0,w.a)(),r=(0,er.useRouter)(),[n,l]=(0,o.useState)(null),c=(0,i.Z)(),h=()=>{l(null)},d=()=>{(0,en._r)(r)};return(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V.Z,{sx:{width:"100%",borderColor:"hsl(256,24%,37%)",mb:1}}),(0,s.jsxs)(U.Z,{variant:"outline",disableRipple:!0,onClick:e=>{l(e.currentTarget)},sx:{py:1,borderRadius:"8px",display:"flex",justifyContent:"flex-start",gap:"8px",color:"#fff","&:hover":{backgroundColor:"hsl(255, 42%, 25%)"}},children:[(0,s.jsx)(q.Z,{alt:a.displayName,src:a.photoURL}),(0,s.jsx)(p.Z,{variant:"body2",sx:{textTransform:"none"},children:a.email}),(0,s.jsx)(ee.Z,{sx:{marginLeft:"auto"}})]})," "]}),(0,s.jsxs)(et.ZP,{open:!!n,anchorEl:n,onClose:h,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},PaperProps:{sx:{marginLeft:"-8px",marginTop:"-8px",width:t?"calc(100% - 80px)":"284px",backgroundColor:c.palette.primary.light,color:c.palette.primary.contrastText}},children:[(0,s.jsx)($.Z,{component:es(),href:"/settings",onClick:h,sx:{py:1},children:"Settings"}),(0,s.jsx)(V.Z,{style:{margin:0}}),(0,s.jsx)($.Z,{onClick:h,sx:{py:1},children:"My Plan"}),(0,s.jsx)(V.Z,{style:{margin:0}}),(0,s.jsx)($.Z,{onClick:()=>{h(),setTimeout(d,0)},sx:{py:1},children:"Sign Out"})]})]})},ei=(0,K.Z)(J.ZP,{shouldForwardProp:e=>"isSelected"!==e})(e=>{let{theme:t,isSelected:a}=e;return{borderRadius:"8px",backgroundColor:a?t.palette.primary.main:"transparent",color:a?t.palette.primary.contrastText:"inherit","&:hover":{backgroundColor:a?t.palette.primary.main:"hsl(255, 42%, 25%)"},"&:hover .delete-button":{visibility:"visible"}}}),el=(0,K.Z)(Q.Z)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"8px","&:hover":{backgroundColor:"transparent"}}}),ec=(0,K.Z)(d.Z)(e=>{let{theme:t}=e;return{visibility:"hidden",position:"relative","&:hover":{visibility:"visible"}}}),eh=(0,K.Z)(e=>(0,s.jsx)(e.icon,{...e}))(e=>{let{theme:t}=e;return{color:"hsl(0, 0%, 80%)","&:hover":{color:"#fff"}}});var ed=e=>{let{open:t,setOpen:a,isSmallScreen:r,chats:n,selectedChat:o,setSelectedChat:i,createNewChat:l,deleteChat:c,loading:h}=e,d=n.map((e,t)=>(0,s.jsxs)(ei,{sx:{py:0},isSelected:o&&o.id===e.id,children:[(0,s.jsxs)(el,{disableRipple:!0,onClick:()=>{h||i(e)},sx:{px:0},children:[(0,s.jsx)(X.Z,{color:"contrastText",fontSize:"small"}),(0,s.jsx)(D.Z,{primary:e.name})]}),(0,s.jsx)(ec,{edge:"end","aria-label":"delete",onClick:t=>{t.stopPropagation(),c(e.id)},className:"delete-button",children:(0,s.jsx)(eh,{icon:Y.Z})})]},t));return(0,s.jsxs)(G.ZP,{open:t,onClose:()=>a(!1),variant:r?"temporary":"permanent",anchor:"left",PaperProps:{sx:{width:r?"calc(100% - 64px)":"300px",padding:1,bgcolor:"primary.dark",display:"flex",flexDirection:"column",color:"primary.contrastText"}},children:[(0,s.jsx)(U.Z,{onClick:e=>{e.stopPropagation(),l()},variant:"outlined",fullWidth:!0,sx:{py:1,justifyContent:"flex-start",borderRadius:"8px",borderColor:"hsl(0, 0%, 80%)",color:"hsl(0, 0%, 80%)","&:hover":{borderColor:"#fff",color:"#fff"}},startIcon:(0,s.jsx)(f.Z,{}),children:"New chat"}),(0,s.jsx)(W.Z,{sx:{flexGrow:1},children:d}),(0,s.jsx)(eo,{isSmallScreen:r})]})};function ep(){let{user:e}=(0,w.a)(),{chats:t,selectedChat:a,setSelectedChat:r,messages:y,setMessages:v,input:Z,handleInputChange:C,handleSend:A,createNewChat:T,deleteChat:I,loading:z,smartMode:R,setSmartMode:_,snackbarOpen:L,snackbarSeverity:M,snackbarMessage:N,handleSnackbarClose:B}=S(),{messageBoxRef:H,lastMessageRef:J,userMessageBoxRef:Q,userMessageBoxHeight:D}=E(y,z),G=(0,i.Z)(),U=(0,l.Z)(G.breakpoints.down("sm")),[W,X]=(0,o.useState)(!U);return(0,o.useEffect)(()=>{X(!U)},[U]),(0,o.useEffect)(()=>{let t=async()=>{if(e&&a)try{let t=(0,b.JU)(j.db,"users",e.uid,"chats",a.id),s=await (0,b.QT)(t);if(s.exists()){let e=s.data().messages;v(e)}}catch(e){console.error("Error fetching chat history:",e)}else v([])};t()},[a,e]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("title",{children:"Chat Interface Project"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),U&&(0,s.jsx)(c.Z,{position:"fixed",sx:{height:"60px"},children:(0,s.jsxs)(h.Z,{sx:{height:1},children:[(0,s.jsx)(d.Z,{edge:"start",color:"inherit","aria-label":"menu",onClick:()=>X(!0),children:(0,s.jsx)(g.Z,{})}),(0,s.jsx)(p.Z,{variant:"body2",component:"div",sx:{flexGrow:1,textAlign:"center"},children:a?a.name:null}),(0,s.jsx)(d.Z,{edge:"end",color:"inherit","aria-label":"add",onClick:()=>{T()},children:(0,s.jsx)(f.Z,{})})]})}),(0,s.jsx)(ed,{open:W,setOpen:X,isSmallScreen:U,chats:t,selectedChat:a,setSelectedChat:r,createNewChat:T,deleteChat:I,loading:z}),(0,s.jsxs)(u.Z,{component:"main",sx:{height:"100vh",pl:[0,"300px"],display:"grid",gridTemplateRows:"1fr auto"},children:[(0,s.jsx)(u.Z,{ref:H,sx:{overflowY:"auto",overflowX:"hidden",pt:U?"60px":0},children:(0,s.jsx)(u.Z,{sx:{px:2,margin:"0 auto",maxWidth:"900px",width:"100%"},children:(0,s.jsx)(O,{messages:y,lastMessageRef:J,loading:z,isSmallScreen:U})})}),(0,s.jsx)(F,{inputValue:Z,userMessageBoxRef:Q,handleInputChange:C,handleSend:A}),(0,s.jsx)(P,{messageBoxRef:H,userMessageBoxHeight:D,lastMessageRef:J})]}),(0,s.jsx)(x.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:L,autoHideDuration:6e3,onClose:B,action:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(d.Z,{size:"small","aria-label":"close",color:"inherit",onClick:B,children:(0,s.jsx)(k.Z,{fontSize:"small"})})}),children:(0,s.jsx)(m.Z,{onClose:B,severity:M,sx:{width:"100%"},children:N})})]})}}},function(e){e.O(0,[296,199,82,664,589,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);