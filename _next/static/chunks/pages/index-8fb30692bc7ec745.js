(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4950)}])},4950:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ep}});var a=s(5893),r=s(9008),n=s.n(r),o=s(7294),i=s(1163),l=s(2734),c=s(8396),h=s(2293),d=s(155),p=s(3946),u=s(5861),x=s(7357),m=s(8703),k=s(1737),g=s(594),f=s(326),y=s(6540),w=s(6154),b=s(2487),j=s(6100),v=s(9293);let Z=async e=>{let t=e[e.length-1],s="Question. ".concat(t.content,"\n\nAnswer: Let’s work this out in a step by step way to be sure we have the right answer.");try{let t=await w.Z.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4",messages:[...e.slice(0,-1),{role:"user",content:s}],n:3},{headers:{"Content-Type":"application/json",Authorization:"Bearer redacted"}});return console.log(t),t.data.choices}catch(e){console.error("Error while calling OpenAI API:",e)}},C=async(e,t)=>{let s=e[e.length-1],a="Question. ".concat(s.content,"\n\nAnswer: Let’s work this out in a step by step way to be sure we have the right answer."),r="Question: ".concat(e[e.length-1].content,"\n\n").concat(t.map((e,t)=>"Answer option ".concat(t+1,":\n\n").concat(e.message.content.trim())).join("\n\n"));console.log(r);try{let t=await w.Z.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4",messages:[...e.slice(0,-1),{role:"user",content:a},{role:"assistant",content:r},{role:"user",content:"You are a researcher tasked with investigating the three response options provided. List the flaws and faulty logic of each answer option. Let’s work this out in a step by step way to be sure we have all the errors:"}]},{headers:{"Content-Type":"application/json",Authorization:"Bearer redacted"}});return console.log(t),{response:t.data.choices[0].message.content.trim(),combinedAnswers:r}}catch(e){console.error("Error while calling OpenAI API:",e)}},S=async(e,t,s)=>{let a=e[e.length-1],r="Question. ".concat(a.content,"\n\nAnswer: Let’s work this out in a step by step way to be sure we have the right answer.");try{let a=await w.Z.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4",messages:[...e.slice(0,-1),{role:"user",content:r},{role:"assistant",content:t},{role:"user",content:"".concat(s,"\n\nYou are a resolver tasked with 1) finding which of the three answer options the researcher thought was best 2) improving that answer, and 3) Printing the improved answer in full. Let’s work this out in a step by step way to be sure we have the right answer:")}]},{headers:{"Content-Type":"application/json",Authorization:"Bearer redacted"}});return console.log(a),a.data.choices[0].message.content.trim()}catch(e){console.error("Error while calling OpenAI API:",e)}},E=e=>{let{user:t}=(0,b.a)(),[s,a]=(0,o.useState)([]),[r,n]=(0,o.useState)(null),[i,l]=(0,o.useState)([]),[c,h]=(0,o.useState)(""),[d,p]=(0,o.useState)(!1),[u,x]=(0,o.useState)(!1),m=async()=>{if(t)try{let e=(0,j.hJ)(v.db,"users",t.uid,"chats"),s=await (0,j.PL)(e),r=s.docs.map(e=>e.data());a(r)}catch(e){console.error("Error fetching chats:",e)}};(0,o.useEffect)(()=>{m()},[t]);let k=async e=>{try{let a=await (0,j.ET)((0,j.hJ)(v.db,"users",t.uid,"chats"),{id:"",name:"Chat ".concat(s.length+1),messages:e||[],createdAt:Date.now()});await (0,j.r7)(a,{id:a.id});let r=await (0,j.QT)(a),o=r.data();n(o),m()}catch(e){console.error("Error saving chat:",e)}},g=async e=>{if(t&&r)try{let s=(0,j.JU)(v.db,"users",t.uid,"chats",r.id);await (0,j.r7)(s,{messages:e})}catch(e){console.error("Error saving chat:",e)}else t&&k(e)},f=async()=>{if(""===c.trim())return;if(!t.apiKey){R("Enter your Open AI API key on the settings page to use chat","info");return}if(d)return;p(!0);let e=[...i,{role:"user",content:c}];l(e=>[...e,{role:"user",content:c}]),h("");let s=null;if(u){let t=await Z(e),a=await C(e,t);s=await S(e,a.combinedAnswers,a.response)}else try{s=(s=await w.Z.post("https://api.openai.com/v1/chat/completions",{model:"gpt-3.5-turbo",messages:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.apiKey)}})).data.choices[0].message.content.trim()}catch(e){console.error("Error while calling OpenAI API:",e),R(e.response.data.error.message,"error"),p(!1);return}let a=[...e,{role:"assistant",content:s}];l(a),setTimeout(()=>{p(!1)},0),g(a)},y=async e=>{try{await (0,j.oe)((0,j.JU)(v.db,"users",t.uid,"chats",e)),a(s.filter(t=>t.id!==e)),r&&r.id===e&&n(null)}catch(e){console.log("error: ",e)}},[E,A]=(0,o.useState)(!1),[T,P]=(0,o.useState)(null),[I,z]=(0,o.useState)(""),R=(e,t)=>{P(t),z(e),A(!0)};return{chats:s,selectedChat:r,setSelectedChat:n,messages:i,setMessages:l,input:c,handleInputChange:e=>{h(e.target.value)},handleSend:f,createNewChat:k,deleteChat:y,loading:d,smartMode:u,setSmartMode:x,snackbarOpen:E,snackbarSeverity:T,snackbarMessage:I,handleSnackbarClose:(e,t)=>{"clickaway"!==t&&A(!1)}}},A=(e,t)=>{let s=(0,o.useRef)(null),a=(0,o.useRef)(null),r=(0,o.useRef)(null),n=(0,o.useRef)(null),[i,l]=(0,o.useState)(0);return(0,o.useLayoutEffect)(()=>{n.current&&l(n.current.getBoundingClientRect().height)},[]),(0,o.useEffect)(()=>{s.current&&(r.current=s.current.scrollHeight)},[e]),(0,o.useLayoutEffect)(()=>{if(s.current&&a.current){let n=s.current.clientHeight,o=s.current.scrollTop,i=r.current||0;if(!1===t)s.current.scrollTop=s.current.scrollHeight;else if(i-o<=2*n){var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}}},[e]),{messageBoxRef:s,lastMessageRef:a,prevScrollHeightRef:r,userMessageBoxRef:n,userMessageBoxHeight:i}};var T=s(6613),P=s(6628);let I=e=>{let{messageBoxRef:t,userMessageBoxHeight:s,lastMessageRef:r}=e,[n,i]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=t.current,s=()=>{let t=e.scrollHeight-e.scrollTop-e.clientHeight;i(t>100)};return e.addEventListener("scroll",s),()=>{e.removeEventListener("scroll",s)}},[t]),(0,a.jsx)(P.Z,{in:n,children:(0,a.jsx)(p.Z,{"aria-label":"Scroll down",onClick:()=>{r.current.scrollIntoView({behavior:"smooth"})},sx:{position:"fixed",bottom:"".concat(s+8,"px"),right:["8px","16px"]},children:(0,a.jsx)(T.Z,{})})})};var z=s(9260),R=s.n(z),_=JSON.parse('{"nm":"newScene","ddd":0,"h":72,"w":94,"meta":{"g":"@lottiefiles/toolkit-js 0.26.1"},"layers":[{"ty":4,"nm":"Ellipse_3","sr":1,"st":0,"op":65,"ip":0,"hd":false,"ddd":1,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[3,3,0]},"s":{"a":1,"k":[{"o":{"x":0.55,"y":0.055},"i":{"x":0.675,"y":0.19},"s":[100,100],"t":0},{"o":{"x":0.25,"y":0.46},"i":{"x":0.45,"y":0.94},"s":[70,70],"t":39},{"s":[100,100],"t":65}]},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":56.943},"y":{"a":1,"k":[{"o":{"x":0.6,"y":-0.28},"i":{"x":0.735,"y":0.045},"s":[35.651],"t":0},{"o":{"x":0.175,"y":0.885},"i":{"x":0.32,"y":1.275},"s":[30.651],"t":39},{"s":[35.651],"t":65}]},"z":{"a":0,"k":0}},"sa":{"a":0,"k":0},"o":{"a":0,"k":100},"rx":{"a":0,"k":0},"ry":{"a":0,"k":0},"rz":{"a":0,"k":0},"or":{"a":0,"k":[0,0,0]}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"nm":"Ellipse_3 shape group","it":[{"ty":"el","bm":0,"hd":false,"nm":"","d":1,"p":{"a":0,"k":[23,3]},"s":{"a":0,"k":[6,6]}},{"ty":"st","bm":0,"hd":false,"nm":"","lc":3,"lj":1,"ml":1,"o":{"a":0,"k":0},"w":{"a":0,"k":0},"c":{"a":0,"k":[0,0,0,0]}},{"ty":"gf","bm":0,"hd":false,"nm":"","e":{"a":0,"k":[23,6]},"g":{"p":1,"k":{"a":0,"k":[1,0.24705882352941178,0.1803921568627451,0.44313725490196076]}},"t":1,"a":{"a":0,"k":0},"h":{"a":0,"k":0},"s":{"a":0,"k":[23,0]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[-20,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]}],"ind":1},{"ty":4,"nm":"Ellipse_2","sr":1,"st":0,"op":65,"ip":0,"hd":false,"ddd":1,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[3,3,0]},"s":{"a":1,"k":[{"o":{"x":0.55,"y":0.055},"i":{"x":0.675,"y":0.19},"s":[100,100],"t":0},{"o":{"x":0.25,"y":0.46},"i":{"x":0.45,"y":0.94},"s":[80,70],"t":35},{"s":[100,100],"t":60}]},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":46.943},"y":{"a":1,"k":[{"o":{"x":0.6,"y":-0.28},"i":{"x":0.735,"y":0.045},"s":[35.651],"t":0},{"o":{"x":0.175,"y":0.885},"i":{"x":0.32,"y":1.275},"s":[30.651],"t":35},{"s":[35.651],"t":60}]},"z":{"a":0,"k":0}},"sa":{"a":0,"k":0},"o":{"a":0,"k":100},"rx":{"a":0,"k":0},"ry":{"a":0,"k":0},"rz":{"a":0,"k":0},"or":{"a":0,"k":[0,0,0]}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"nm":"Ellipse_2 shape group","it":[{"ty":"el","bm":0,"hd":false,"nm":"","d":1,"p":{"a":0,"k":[13,3]},"s":{"a":0,"k":[6,6]}},{"ty":"st","bm":0,"hd":false,"nm":"","lc":3,"lj":1,"ml":1,"o":{"a":0,"k":0},"w":{"a":0,"k":0},"c":{"a":0,"k":[0,0,0,0]}},{"ty":"gf","bm":0,"hd":false,"nm":"","e":{"a":0,"k":[13,6]},"g":{"p":1,"k":{"a":0,"k":[1,0.24705882352941178,0.1803921568627451,0.44313725490196076]}},"t":1,"a":{"a":0,"k":0},"h":{"a":0,"k":0},"s":{"a":0,"k":[13,0]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[-10,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":60}}]}],"ind":2},{"ty":4,"nm":"Ellipse","sr":1,"st":0,"op":65,"ip":0,"hd":false,"ddd":1,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[3,3,0]},"s":{"a":1,"k":[{"o":{"x":0.55,"y":0.055},"i":{"x":0.675,"y":0.19},"s":[100,100],"t":0},{"o":{"x":0.25,"y":0.46},"i":{"x":0.45,"y":0.94},"s":[70,70],"t":30},{"s":[100,100],"t":55}]},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":36.943},"y":{"a":1,"k":[{"o":{"x":0.6,"y":-0.28},"i":{"x":0.735,"y":0.045},"s":[35.651],"t":0},{"o":{"x":0.175,"y":0.885},"i":{"x":0.32,"y":1.275},"s":[30.651],"t":30},{"s":[35.651],"t":55}]},"z":{"a":0,"k":0}},"sa":{"a":0,"k":0},"o":{"a":0,"k":100},"rx":{"a":0,"k":0},"ry":{"a":0,"k":0},"rz":{"a":0,"k":0},"or":{"a":0,"k":[0,0,0]}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"nm":"Ellipse shape group","it":[{"ty":"el","bm":0,"hd":false,"nm":"","d":1,"p":{"a":0,"k":[3,3]},"s":{"a":0,"k":[6,6]}},{"ty":"st","bm":0,"hd":false,"nm":"","lc":3,"lj":1,"ml":1,"o":{"a":0,"k":0},"w":{"a":0,"k":0},"c":{"a":0,"k":[0,0,0,0]}},{"ty":"gf","bm":0,"hd":false,"nm":"","e":{"a":0,"k":[3,6]},"g":{"p":1,"k":{"a":0,"k":[1,0.24705882352941178,0.1803921568627451,0.44313725490196076]}},"t":1,"a":{"a":0,"k":0},"h":{"a":0,"k":0},"s":{"a":0,"k":[3,0]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":40}}]}],"ind":3}],"v":"5.1.20","fr":60,"op":65,"ip":0,"assets":[]}');let L=()=>(0,a.jsx)(R(),{animationData:_,loop:!0,style:{position:"absolute",top:"0",left:"-12px",width:"64px",transform:"translateY(calc(-50% + 18px))"}}),O=o.memo(e=>{let{children:t,message:s,isLastMessage:r,name:n,lastMessageRef:o,isSmallScreen:i}=e;return(0,a.jsx)(P.Z,{in:!0,timeout:500,children:(0,a.jsxs)(x.Z,{bgcolor:(null==s?void 0:s.role)==="user"?e=>"hsl(0,0%,96%)":"transparent",sx:{position:"relative",display:"grid",gridTemplateColumns:"64px 1fr",pr:i?0:"64px",columnGap:2,py:4,"::before":{zIndex:"-1",position:"absolute",top:0,bottom:0,left:0,width:"100vw",transform:"translateX(-100%)",content:'""',display:"block",backgroundColor:(null==s?void 0:s.role)==="user"?e=>"hsl(0,0%,96%)":"transparent"},"::after":{zIndex:"-1",position:"absolute",top:0,bottom:0,left:0,width:"100vw",content:'""',display:"block",backgroundColor:(null==s?void 0:s.role)==="user"?e=>"hsl(0,0%,96%)":"transparent"}},ref:r?o:null,children:[n&&(0,a.jsxs)(u.Z,{color:"secondary",textAlign:"right",children:[n,":"]}),t]})})});var M=e=>{let{messages:t,lastMessageRef:s,loading:r,isSmallScreen:n}=e,o=t.map((e,r)=>(0,a.jsxs)(O,{message:e,isLastMessage:r===t.length-1,lastMessageRef:s,isSmallScreen:n,children:[(0,a.jsxs)(u.Z,{color:"user"===e.role?"primary":"secondary",textAlign:"right",children:[e.role,":"]}),(0,a.jsx)(u.Z,{color:"text.primary",children:e.content})]},r));return(0,a.jsxs)(a.Fragment,{children:[o,r&&(0,a.jsx)(O,{name:"Assistant",children:(0,a.jsx)(x.Z,{sx:{position:"relative"},children:(0,a.jsx)(L,{})})})]})},N=s(629),B=s(9936),H=s(7109),F=s(6307),J=e=>{let{inputValue:t,userMessageBoxRef:s,handleInputChange:r,handleSend:n}=e;return(0,a.jsx)(N.Z,{elevation:4,sx:{zIndex:1},children:(0,a.jsx)(x.Z,{sx:{p:2,position:"relative",margin:"0 auto",maxWidth:"900px",width:"100%"},ref:s,children:(0,a.jsx)(B.Z,{autoComplete:"off",fullWidth:!0,variant:"outlined",placeholder:"Send a message",value:t,onChange:r,onKeyDown:e=>{"Enter"===e.key&&n()},InputProps:{endAdornment:(0,a.jsx)(H.Z,{position:"end",children:(0,a.jsx)(p.Z,{onClick:n,edge:"end",disabled:""===t.trim(),children:(0,a.jsx)(F.Z,{})})})}})})})},Q=s(7212),D=s(8619),G=s(9334),U=s(7533),W=s(3321),X=s(8462),Y=s(1403),K=s(6907),V=s(3264),q=s(7720),$=s(9661),ee=s(431),et=s(9369),es=s(4564),ea=s(1664),er=s.n(ea),en=s(4457);let eo=e=>{let{isSmallScreen:t}=e,{user:s}=(0,b.a)(),r=(0,i.useRouter)(),[n,c]=(0,o.useState)(null),h=(0,l.Z)(),d=()=>{c(null)},p=()=>{(0,en._r)(r)};return(0,a.jsxs)(a.Fragment,{children:[s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q.Z,{sx:{width:"100%",borderColor:"hsl(256,24%,37%)",mb:1}}),(0,a.jsxs)(W.Z,{variant:"outline",disableRipple:!0,onClick:e=>{c(e.currentTarget)},sx:{py:1,borderRadius:"8px",display:"flex",justifyContent:"flex-start",gap:"8px",color:"#fff","&:hover":{backgroundColor:"hsl(255, 42%, 25%)"}},children:[(0,a.jsx)($.Z,{alt:s.displayName,src:s.photoURL}),(0,a.jsx)(u.Z,{variant:"body2",sx:{textTransform:"none"},children:s.email}),(0,a.jsx)(et.Z,{sx:{marginLeft:"auto"}})]})," "]}),(0,a.jsxs)(es.ZP,{open:!!n,anchorEl:n,onClose:d,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},PaperProps:{sx:{marginLeft:"-8px",marginTop:"-8px",width:t?"calc(100% - 80px)":"284px",backgroundColor:h.palette.primary.light,color:h.palette.primary.contrastText}},children:[(0,a.jsx)(ee.Z,{component:er(),href:"/settings",onClick:d,sx:{py:1},children:"Settings"}),(0,a.jsx)(q.Z,{style:{margin:0}}),(0,a.jsx)(ee.Z,{onClick:d,sx:{py:1},children:"My Plan"}),(0,a.jsx)(q.Z,{style:{margin:0}}),(0,a.jsx)(ee.Z,{onClick:()=>{d(),setTimeout(p,0)},sx:{py:1},children:"Sign Out"})]})]})},ei=(0,V.Z)(Q.ZP,{shouldForwardProp:e=>"isSelected"!==e})(e=>{let{theme:t,isSelected:s}=e;return{borderRadius:"8px",backgroundColor:s?t.palette.primary.main:"transparent",color:s?t.palette.primary.contrastText:"inherit","&:hover":{backgroundColor:s?t.palette.primary.main:"hsl(255, 42%, 25%)"},"&:hover .delete-button":{visibility:"visible"}}}),el=(0,V.Z)(D.Z)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"8px","&:hover":{backgroundColor:"transparent"}}}),ec=(0,V.Z)(p.Z)(e=>{let{theme:t}=e;return{visibility:"hidden",position:"relative","&:hover":{visibility:"visible"}}}),eh=(0,V.Z)(e=>(0,a.jsx)(e.icon,{...e}))(e=>{let{theme:t}=e;return{color:"hsl(0, 0%, 80%)","&:hover":{color:"#fff"}}});var ed=e=>{let{open:t,setOpen:s,isSmallScreen:r,chats:n,selectedChat:o,setSelectedChat:i,createNewChat:l,deleteChat:c,loading:h}=e,d=n.map((e,t)=>(0,a.jsxs)(ei,{sx:{py:0},isSelected:o&&o.id===e.id,children:[(0,a.jsxs)(el,{disableRipple:!0,onClick:()=>{h||i(e)},sx:{px:0},children:[(0,a.jsx)(Y.Z,{color:"contrastText",fontSize:"small"}),(0,a.jsx)(G.Z,{primary:e.name})]}),(0,a.jsx)(ec,{edge:"end","aria-label":"delete",onClick:t=>{t.stopPropagation(),c(e.id)},className:"delete-button",children:(0,a.jsx)(eh,{icon:K.Z})})]},t));return(0,a.jsxs)(U.ZP,{open:t,onClose:()=>s(!1),variant:r?"temporary":"permanent",anchor:"left",PaperProps:{sx:{width:r?"calc(100% - 64px)":"300px",padding:1,bgcolor:"primary.dark",display:"flex",flexDirection:"column",color:"primary.contrastText"}},children:[(0,a.jsx)(W.Z,{onClick:e=>{e.stopPropagation(),l()},variant:"outlined",fullWidth:!0,sx:{py:1,justifyContent:"flex-start",borderRadius:"8px",borderColor:"hsl(0, 0%, 80%)",color:"hsl(0, 0%, 80%)","&:hover":{borderColor:"#fff",color:"#fff"}},startIcon:(0,a.jsx)(y.Z,{}),children:"New chat"}),(0,a.jsx)(X.Z,{sx:{flexGrow:1},children:d}),(0,a.jsx)(eo,{isSmallScreen:r})]})};function ep(){let e=(0,i.useRouter)(),{user:t}=(0,b.a)(),{chats:s,selectedChat:r,setSelectedChat:w,messages:Z,setMessages:C,input:S,handleInputChange:T,handleSend:P,createNewChat:z,deleteChat:R,loading:_,smartMode:L,setSmartMode:O,snackbarOpen:N,snackbarSeverity:B,snackbarMessage:H,handleSnackbarClose:F}=E(),{messageBoxRef:Q,lastMessageRef:D,userMessageBoxRef:G,userMessageBoxHeight:U}=A(Z,_),W=(0,l.Z)(),X=(0,c.Z)(W.breakpoints.down("sm")),[Y,K]=(0,o.useState)(!X);return(0,o.useEffect)(()=>{t||e.push("/sign-in")},[t]),(0,o.useEffect)(()=>{K(!X)},[X]),(0,o.useEffect)(()=>{let e=async()=>{if(t&&r)try{let e=(0,j.JU)(v.db,"users",t.uid,"chats",r.id),s=await (0,j.QT)(e);if(s.exists()){let e=s.data().messages;C(e)}}catch(e){console.error("Error fetching chat history:",e)}else C([])};e()},[r,t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Chat Interface Project"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),X&&(0,a.jsx)(h.Z,{position:"fixed",sx:{height:"60px"},children:(0,a.jsxs)(d.Z,{sx:{height:1},children:[(0,a.jsx)(p.Z,{edge:"start",color:"inherit","aria-label":"menu",onClick:()=>K(!0),children:(0,a.jsx)(f.Z,{})}),(0,a.jsx)(u.Z,{variant:"body2",component:"div",sx:{flexGrow:1,textAlign:"center"},children:r?r.name:null}),(0,a.jsx)(p.Z,{edge:"end",color:"inherit","aria-label":"add",onClick:()=>{z()},children:(0,a.jsx)(y.Z,{})})]})}),(0,a.jsx)(ed,{open:Y,setOpen:K,isSmallScreen:X,chats:s,selectedChat:r,setSelectedChat:w,createNewChat:z,deleteChat:R,loading:_}),(0,a.jsxs)(x.Z,{component:"main",sx:{height:"100vh",pl:[0,"300px"],display:"grid",gridTemplateRows:"1fr auto"},children:[(0,a.jsx)(x.Z,{ref:Q,sx:{overflowY:"auto",overflowX:"hidden",pt:X?"60px":0},children:(0,a.jsx)(x.Z,{sx:{px:2,margin:"0 auto",maxWidth:"900px",width:"100%"},children:(0,a.jsx)(M,{messages:Z,lastMessageRef:D,loading:_,isSmallScreen:X})})}),(0,a.jsx)(J,{inputValue:S,userMessageBoxRef:G,handleInputChange:T,handleSend:P}),(0,a.jsx)(I,{messageBoxRef:Q,userMessageBoxHeight:U,lastMessageRef:D})]}),(0,a.jsx)(m.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:N,autoHideDuration:6e3,onClose:F,action:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.Z,{size:"small","aria-label":"close",color:"inherit",onClick:F,children:(0,a.jsx)(g.Z,{fontSize:"small"})})}),children:(0,a.jsx)(k.Z,{onClose:F,severity:B,sx:{width:"100%"},children:H})})]})}}},function(e){e.O(0,[296,199,82,664,589,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);