(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{8356:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(5859)}])},5859:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(7294),s=t(1163),u=t(2487),a=t(7536),l=t(5582),c=t(9936),o=t(7357),d=t(3321),h=t(1664),f=t.n(h),p=t(6100);n.default=()=>{let e=(0,s.useRouter)(),{user:n,setUser:t}=(0,u.a)(),{register:h,handleSubmit:y,formState:{errors:x}}=(0,a.cI)(),_=(0,p.ad)();(0,i.useEffect)(()=>{n||e.push("/sign-in")},[n]);let k=async r=>{let{apiKey:i}=r;try{let r=(0,p.JU)(_,"users",n.uid);await (0,p.r7)(r,{apiKey:i}),t(e=>({...e,apiKey:i})),e.push("/")}catch(e){console.error("Error adding API key: ",e)}};return(0,r.jsxs)(l.Z,{component:"form",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"},onSubmit:y(k),children:[(0,r.jsx)(c.Z,{...h("apiKey",{required:"Key required."}),sx:{mb:2},helperText:"Paste your OpenAI API key here",required:!0,fullWidth:!0,name:"apiKey",label:"API key",id:"api-key"}),(0,r.jsxs)(o.Z,{sx:{display:"flex",gap:2},children:[(0,r.jsx)(f(),{href:"/",children:(0,r.jsx)(d.Z,{variant:"text",children:"Go back"})}),(0,r.jsx)(d.Z,{variant:"outlined",type:"submit",children:"Add key"})]})]})}}},function(e){e.O(0,[199,75,664,774,888,179],function(){return e(e.s=8356)}),_N_E=e.O()}]);